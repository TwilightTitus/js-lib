<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>JSTL Samples</title>
	<script src="../../libs/jquery-1.11.1.js" type="text/javascript"></script>
	<script src="../../dist/1.3.3/de.titus.jquery.plugins-1.3.3.js" type="text/javascript"></script>
	<link  type="text/css" href="style.css" rel="stylesheet"/>
</head>
<body logging-properties='{"remote":{"url":"logging.properties.json"}}'>
	<div id="test" jstl-load="load" jstl-success="success" jstl-fail="function(){alert('fail')}">
		<div>
			<div>${test}</div>
			<div>${"test " + test + "!"}</div>
			<div>${testFunction}</div>
		</div>
		<div jstl-if="${boolean}">boolean test</div>
		<div></div>
		<div>include tests
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="append" class="${test}">
				<div>append</div>			
			</div>
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="prepend">
				<div>prepend</div>			
			</div>
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="replace">
				<div>replace</div>			
			</div>
			<div jstl-include="${jstlTemplate}" jstl-include-options='{"test": "test"}' jstl-include-mode="append">
				<div>Parameterisierter Include </div>			
			</div>
			<div jstl-include="#" jstl-include-options='{"url": jstlTemplate}' jstl-include-mode="append">
				<div>Parameterisierter Include mit den Options </div>			
			</div>
		</div>
		<div>data tests
			<div jstl-data='{"data": "direct Data"}'>${data}</div>	
			<div jstl-data='dataFunction()'>${functionResult}</div>		
			<div jstl-data="jstl-remote.data.json" jstl-data-mode="remote" jstl-data-options='{"test": "test"}'>${remoteData}</div>
			<div jstl-data="jstl-remote.data.json" jstl-data-mode="remote" jstl-data-var="remoteData">${remoteData.remoteData} with new Varname</div>			
		</div>
		
		<div>Choose test
			<div jstl-choose = "">
				<div jstl-when="false">when 1</div>	
				<div jstl-when='false'>when 2</div>		
				<div jstl-otherwise="">otherwise</div>
			</div>			
		</div>
		<div>foreach test 0
			<div jstl-data='{"pageNumbers":[1,2,3,4,5], "test":5}' jstl-foreach = "${pageNumbers}" jstl-foreach-var="pageNumber">
				<span jstl-if="${pageNumber == test}">${pageNumber}</span>
				<span jstl-if="${pageNumber != test}">${pageNumber}</span>
				<br/>
			</div>			
		</div>
		
		<div>foreach test 1
			<div jstl-data='{"data": "direct Data"}' jstl-foreach = "${list}" jstl-foreach-var="listItem" jstl-foreach-status="listStatus">
				<span>${listStatus.index} </span>
				<span>id: ${listItem.id}</span>
				<span>name: ${listItem.name}</span>
				<span>name: ${jstlTemplate}</span>
				<br/>
			</div>			
		</div>
		<div>foreach on remote data
			<div jstl-data="jstl-remote.data.json" jstl-data-mode="remote" jstl-data-var="newData" jstl-foreach = "${newData.list}" jstl-foreach-var="listItem" jstl-foreach-status="listStatus">
				<span>${listStatus.index} </span>
				<span>id: ${listItem.id}</span>
				<span>name: ${listItem.name}</span>
				<span>name: ${jstlTemplate}</span>
				<br/>
			</div>			
		</div>
		<div>foreach test 2
			<div jstl-foreach = "${jstlList}">
				<div jstl-if="${itemVar.show}">
					<span>${statusVar.index} </span>
					<span>id: ${itemVar.id}</span>
					<span>name: ${itemVar.name}</span>
					<span>name: ${jstlTemplate}</span>
				</div>
			</div>			
		</div>
		
		<div>foreach on data context / it's like run over all properties of an Object 
			<div jstl-data='jstl-remote.data.array.json' jstl-data-mode="remote" jstl-foreach = "" jstl-foreach-var="listItem" jstl-foreach-status="listStatus">
				<div jstl-if="${listItem.name != undefined}">
					<span>${listStatus.index} </span>
					<span>id: ${listItem.id}</span>
					<span>name: ${listItem.name}</span>
					<span>name: ${jstlTemplate}</span>
				</div>
			</div>			
		</div>
		
	</div>
	
	<div id="log"><div>Logs</div></div>
	
	<script type="text/javascript">
		/*<!--*/
		
		function load(aElement){
			$(aElement).hide();
			alert("load");
		};
		
		function success(aElement){
			alert("success");
			$(aElement).show();
		};
		
		function testFunction(){
			return "result from a Function!";
		};
		
		function dataFunction(){
			return {"functionResult":"result from a Function!"};
		};
		
		$(document).ready(function(){
			var data = {test:"text", 
				"boolean": false, 
				"jstlTemplate" :"jstl-template.html", 
				"jstlList":[ 
                       ]
			};
			
			for(var i = 0; i < 10; i++){
				data.jstlList.push({"id":i, "name": "item " + i, "show":(i % 4 != 0)});
			}
			
			$("#test").jstl({"data": data});
			
		});		
		/*-->*/
	</script>
</body>
</html>
