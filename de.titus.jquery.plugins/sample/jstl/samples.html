<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>JSTL Samples</title>
	<script src="../../libs/jquery-1.11.1.js" type="text/javascript"></script>
	<script src="../../dist/1.1.0/de.titus.jquery.plugins-1.1.0.js" type="text/javascript"></script>
	<script src="file:///C:\_dev_ws\privat\js-lib.git\de.titus.jstl\dist\1.0.0\de.titus.jstl-1.0.0.js" type="text/javascript"></script>
	<link  type="text/css" href="style.css" rel="stylesheet"/>
</head>
<body logging-properties='{"remote":{"url":"logging.properties.json"}}'>
	<div id="test">
		<div>
			<div>${test}</div>
			<div>${"test " + test + "!"}</div>
			<div>${testFunction}</div>
		</div>
		<div jstl-if="${boolean}">boolean test</div>
		<div></div>
		<div>include tests
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="append">
				<div>append</div>			
			</div>
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="prepend">
				<div>prepend</div>			
			</div>
			<div jstl-include="jstl-template.html" jstl-include-options='{"test": "test"}' jstl-include-mode="replace">
				<div>replace</div>			
			</div>
			<div jstl-include="${jstlTemplate}" jstl-include-options='{"test": "test"}' jstl-include-mode="append">
				<div>Parameterisierter Include </div>			
			</div>
			<div jstl-include="#" jstl-include-options='{"url": jstlTemplate}' jstl-include-mode="append">
				<div>Parameterisierter Include mit den Options </div>			
			</div>
		</div>
		<div>data tests
			<div jstl-data='{"data": "direct Data"}'>${data}</div>	
			<div jstl-data='dataFunction()'>${functionResult}</div>		
			<div jstl-data="jstl-remote.data.json" jstl-data-mode="remote" jstl-data-options='{"test": "test"}'>${remoteData}</div>
			<div jstl-data="jstl-remote.data.json" jstl-data-mode="remote" jstl-data-var="remoteData">${remoteData.remoteData} with new Varname</div>			
		</div>
		
		<div>Choose test
			<div jstl-choose = "">
				<div jstl-when="false">when 1</div>	
				<div jstl-when='false'>when 2</div>		
				<div jstl-otherwise="">otherwise</div>
			</div>			
		</div>
		<div>foreach test 1
			<div jstl-data='{"data": "direct Data"}' jstl-foreach = "${list}">
				<div>${statusVar.index}</div>
				<div>id: ${itemVar.id}</div>
				<div>name: ${itemVar.name}</div>
			</div>			
		</div>
		<div>foreach test 2
			<div jstl-foreach = "${jstlList}">
				<div jstl-if="${itemVar.show}">
					<span>${statusVar.index}</span>
					<span>id: ${itemVar.id}</span>
					<span>name: ${itemVar.name}</span>
				</div>
			</div>			
		</div>
		
	</div>
	
	<div id="log"><div>Logs</div></div>
	
	<script type="text/javascript">
		/*<!--*/
		function testFunction(){
			return "result from a Function!";
		};
		
		function dataFunction(){
			return {"functionResult":"result from a Function!"};
		};
		
		$(document).ready(function(){
			var data = {test:"text", 
				"boolean": false, 
				"jstlTemplate" :"jstl-template.html", 
				"jstlList":[ 
                       ]
			};
			
			for(var i = 0; i < 10; i++){
				data.jstlList.push({"id":i, "name": "item " + i, "show":(i % 4 != 0)});
			}
			
			var result = new de.titus.jstl.Processor($("#test"), data, new de.titus.jquery.DomHelper()).compute();
			console.log(result);
		});		
		/*-->*/
	</script>
</body>
</html>
